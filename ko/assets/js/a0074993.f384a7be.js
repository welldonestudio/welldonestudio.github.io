"use strict";(self.webpackChunkwelldone_docs=self.webpackChunkwelldone_docs||[]).push([[5098],{77362:function(e,t,n){var a=n(67294),r=n(39288),i=n(46054);t.Z=function(e){var t=e.code;return a.createElement(r.Z,{language:"rust",style:i.Z},t)}},61830:function(e,t,n){n.r(t),n.d(t,{assets:function(){return V},contentTitle:function(){return C},default:function(){return P},frontMatter:function(){return I},metadata:function(){return B},toc:function(){return _}});var a=n(83117),r=n(80102),i=n(67294),o=n(3905),l=n(1017),c=n(84035),s=n(9669),d=n.n(s),u=n(61953),m=n(64288),f=n(29630),p=n(70754),h=n(78744),g=n(23101),E=n(13264),v=n(55733),b=n.n(v),y=n(77362),k=(0,h.Z)((function(e){return{overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center"},loadingMessage:{color:"#ffffff",fontSize:"2em",textAlign:"center"}}})),w=(0,E.Z)(u.Z)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,fontFamily:"monospace",fontSize:"0.82rem",whiteSpace:"pre-wrap",overflowX:"auto",backgroundColor:"#282c34",color:"#a9b7c6",border:"1px solid #3b4048",lineHeight:1.5,marginBottom:t.spacing(2),padding:t.spacing(2)}})),x=function(){var e=(0,i.useState)([]),t=e[0],n=e[1],a=(0,i.useState)(0),r=a[0],o=a[1],s=(0,i.useState)([]),h=s[0],E=s[1],v=(0,i.useState)(null),x=v[0],S=v[1],Z=(0,i.useState)(null),I=Z[0],C=Z[1],B=k(),V=(0,i.useState)(!1),_=V[0],R=V[1];(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()("https://api.welldonestudio.io/compiler/sui/packages?fetchSize=50&order=DESC");case 2:t=e.sent,n=t.data.filter((function(e){return 1==e.isRemixSrcUploaded})),E(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var P=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var a,r,i,o,c,s,u,m,f,p,h,g,E,v;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),S(t.row),e.prev=2,!0!==t.row.isVerified){e.next=33;break}return e.next=6,d()("https://api.welldonestudio.io/compiler/sui/verifications",{params:{network:t.row.chainId,packageId:t.row.packageId}});case 6:if(200!=(a=e.sent).status||!a.data.isVerified){e.next=28;break}return e.next=10,fetch(a.data.verifiedSrcUrl);case 10:if(r=e.sent,console.log(r),r.ok){e.next=14;break}throw new Error("Network response was not ok");case 14:return e.next=16,r.arrayBuffer();case 16:return i=e.sent,o=new Blob([i],{type:"application/zip"}),console.log(o),c=new(b()),e.next=22,c.loadAsync(o);case 22:return s=e.sent,e.next=25,D(s);case 25:u=e.sent,console.log(u),n(u);case 28:C(a.data),console.log(a.data),R(!1),e.next=60;break;case 33:return e.next=35,d().post("https://api.welldonestudio.io/compiler/sui/verifications",{network:t.row.chainId,packageId:t.row.packageId});case 35:if(201!=(m=e.sent).status||!m.data.isVerified){e.next=57;break}return e.next=39,fetch(m.data.verifiedSrcUrl);case 39:if(f=e.sent,console.log(f),f.ok){e.next=43;break}throw new Error("Network response was not ok");case 43:return e.next=45,f.arrayBuffer();case 45:return p=e.sent,h=new Blob([p],{type:"application/zip"}),console.log(h),g=new(b()),e.next=51,g.loadAsync(h);case 51:return E=e.sent,e.next=54,D(E);case 54:v=e.sent,console.log(v),n(v);case 57:C(m.data),console.log(m.data),R(!1);case 60:e.next=66;break;case 62:e.prev=62,e.t0=e.catch(2),console.error(e.t0),R(!1);case 66:case"end":return e.stop()}}),e,null,[[2,62]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.forEach((function(e,t){if(!t.dir){var a=t.async("text").then((function(e){return{name:t.name,content:e}}));n.push(a)}})),e.next=4,Promise.all(n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var n,a,l=e.data,c=(e.setData,e.selectedData,e.setSelectedData,e.verificationResult),s=(e.setVerificationResult,e.handleRowClick);return i.createElement("div",{style:{width:"100%"}},i.createElement(g._$,{rows:l,columns:[{field:"id",headerName:"ID",width:"60",headerAlign:"center",align:"center"},{field:"chainId",headerName:"Chain ID",width:"80",headerAlign:"center",align:"center"},{field:"account",headerName:"Publisher",width:"300",headerAlign:"center",align:"center"},{field:"packageId",headerName:"Package Address",width:"300",headerAlign:"center",align:"center"},{field:"isVerified",headerName:"Verified",width:"70",headerAlign:"center",align:"center"}],onRowClick:s,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],style:{backgroundColor:"#282c34",color:"#a9b7c6",marginBottom:"1em"}}),c&&i.createElement("div",null,c.isVerified?i.createElement("div",null,i.createElement("h2",null,i.createElement("span",{style:{color:"green"}},"\u2713 "),"Verification Successful"),i.createElement(u.Z,{mb:3},i.createElement("div",null,i.createElement("div",null,t.map((function(e,t){return i.createElement("button",{type:"button",key:t,onClick:function(e){e.preventDefault(),o(t)}},e.name)}))),i.createElement("div",null,i.createElement("h3",null,null==(n=t[r])?void 0:n.name),i.createElement(y.Z,{code:null==(a=t[r])?void 0:a.content}))))):i.createElement("div",null,i.createElement("h2",null,i.createElement("span",{style:{color:"red"}},"\u2717 "),"Verification Failed"),i.createElement("p",null,c.errMsg))))};return i.createElement(m.Z,{maxWidth:"lg"},i.createElement(u.Z,{sx:{my:4}},i.createElement(u.Z,{mb:3},i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"About"),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},"Sui Move developers face challenges in verifying Move module source code deployed on Sui. Without knowing the source code could lead to fatal consequences. By comparing Move Pakcage's off-chain and on-chain byte code could overcome this issues.")),i.createElement(u.Z,{mb:3},i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"Key Features"),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},i.createElement("ol",null,i.createElement("li",null,i.createElement("strong",null,"Public Verification Status"),": Developers can publicly display the verification status of their packages using this API."),i.createElement("li",null,i.createElement("strong",null,"Package List and Verification Request"),": Users can request a list of packages deployed from Remix or request verification for a specific package through the API."),i.createElement("li",null,i.createElement("strong",null,"Verification Process"),": Upon receiving a verification request, the verification server compares the byte code uploaded on verfication server to the current on-chain byte code."),i.createElement("li",null,i.createElement("strong",null,"Verification Results"),": If the verification is successful, the verification server returns information to the user, including URLs for the original source code, Onchain and Offchain byte code")),"This verification api serves as a crucial tool to address the Move module verification challenges in Sui, offering both developers and users a transparent source code.")),i.createElement(u.Z,{mb:3},i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"1."," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiVerificationController_checkVerification",target:"_blank"},i.createElement("code",null,"GET sui/verifications"))," ","Check the status of verification."),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},"You can use the following API to check if the package was already verified or the source file was already uploaded by remix project.",i.createElement("br",null),i.createElement("br",null),i.createElement(w,null,"curl --location 'https://api.welldonestudio.io/compiler/sui/verifications?network=testnet&packageId=0xa26ed098438ab05122f4e2b6902946df1d001f61e77d69e587b6064f0a907bd3'")),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},"Response Example:",i.createElement(w,null,'{\n    "network": "testnet",\n    "packageId": "0xa26ed098438ab05122f4e2b6902946df1d001f61e77d69e587b6064f0a907bd3",\n    "isVerified": false,\n    "isRemixSrcUploaded": true,\n    "verifiedSrcUrl": null,\n    "errMsg": null\n}              ')),i.createElement(f.Z,{variant:"body1"},"The package published by"," ",i.createElement("strong",null,i.createElement("code",null,"CODE BY WELLDONE STUDIO"))," ","plugin in remix-project.",i.createElement("img",{src:"/img/wds-code-sui-1.png",alt:"remix sui"})),i.createElement("br",null),i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"2."," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiVerificationController_verifyPackage",target:"_blank"},i.createElement("code",null,"POST sui/verifications/sources"))," ","Upload packcage source code."),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},"If ",i.createElement("strong",null,"isRemixSrcUploaded")," in the response of"," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiVerificationController_checkVerification",target:"_blank"},i.createElement("code",null,"GET sui/verifications"))," ","is false, you should upload a package source code zip file by calling"," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiVerificationController_verifyPackage",target:"_blank"},i.createElement("code",null,"POST sui/verifications/sources"))," ","and the response includes a ",i.createElement("code",null,"srcFileId")," which refer to the uploaded source code.",i.createElement("br",null),"If ",i.createElement("strong",null,"isRemixSrcUploaded")," is true, skip this api call.",i.createElement("br",null),i.createElement("br",null),i.createElement(w,null,"curl --location 'https://api.welldonestudio.io/compiler/sui/verifications/sources' \\ \n     --form 'network=\"testnet\"' \\\n     --form 'packageId=\"0x8d1b84eaf4b007ef723b6f4a0181f0be1d060aa85a6f818fc58613b50c4ed112\"' \\\n     --form 'srcZipFile=@\"/Users/lt-051/IdeaProjects/move_example/examples/move/locked_stake/locked_stake.zip\"'"),i.createElement(w,null,'{\n    "srcFileId":"1710735648898"\n}')),i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"3."," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiVerificationController_verifyPackage",target:"_blank"},i.createElement("code",null,"POST sui/verifications"))," ","Verify the source code."),i.createElement(f.Z,{variant:"body1"},"If ",i.createElement("strong",null,"isRemixSrcUploaded")," is true, you can omit ",i.createElement("strong",null,"srcFileId")," ","parameter. The api server will ignore ",i.createElement("strong",null,"srcFileId")," parameter if the package source file was already uploaded by remix project."),i.createElement("br",null),i.createElement(f.Z,{gutterBottom:!0},i.createElement(w,null,'curl --location \'https://api.welldonestudio.io/compiler/sui/verifications\' \\\n                    --header \'Content-Type: application/json\' \\\n                    --data \'{\n                        "network": "testnet",\n                        "packageId": "0x8d1b84eaf4b007ef723b6f4a0181f0be1d060aa85a6f818fc58613b50c4ed112",\n                        "srcFileId": "1710735648898"\n                    }\'')),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},"Reponse example:",i.createElement(w,null,'{\n    "network": "testnet",\n    "packageId": "0x8d1b84eaf4b007ef723b6f4a0181f0be1d060aa85a6f818fc58613b50c4ed112",\n    "isVerified": true,\n    "modules": [\n        {\n            "moduleName": "epoch_time_lock",\n            "isVerified": true,\n            "onChainByteCode": "0xa11ceb0b060000000a010004020408030c140...",\n            "offChainByteCode": "0xa11ceb0b060000000a010004020408030c140..."\n        },\n        {\n            "moduleName": "locked_stake",\n            "isVerified": true,\n            "onChainByteCode": "0xa11ceb0b060000000b0100140214340348900104d8011405ec01a...",\n            "offChainByteCode": "0xa11ceb0b060000000b0100140214340348900104d8011405ec01a..."\n        }\n    ],\n    "verifiedSrcUrl": "https://wds-code-verification.s3.us-east-2.amazonaws.com/sui/testnet/0x8d1b84eaf4b007ef723b6f4a0181f0be1d060aa85a6f818fc58613b50c4ed112/1710735648898/1710735648898.zip...,\n    "errMsg": null\n}')),i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"4."," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiVerificationController%20moduleSourceCodes",target:"_blank"},i.createElement("code",null,"GET ","/sui/verifications/module-sources/{chainId}/{packageId}"))," ","Query the verified source code"," "),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},i.createElement(f.Z,{gutterBottom:!0},i.createElement(w,null,"curl -X 'GET' 'https://api.welldonestudio.io/compiler/sui/verifications/module-sources/testnet/0x7ae856e83f32de66ced965efaefef9746413afdaae389a71a5be6e37d1803822' \n     -H 'accept: application/json'")),"Response Example:",i.createElement(w,null,'{\n  "isSuccess": true,\n  "errMsg": "",\n  "sourceCodes": {\n    "my_module": "module my_first_package::my_module {\n\n    // Part 1: Imports\n    use sui::object::{Self, UID};\n    use sui::transfer;\n    use sui::tx_context::{Self, TxContext};\n\n    // Part 2: Struct definitions\n    struct Sword has key, store {\n        id: UID,\n        magic: u64,\n        strength: u64,\n    }\n\n    struct Forge has key, store {\n        id: UID,\n        swords_created: u64,\n   }\n   ...\n }\n}')),i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"5."," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/SuiPackageController_find",target:"_blank"},i.createElement("code",null,"GET sui/packages"))," ","Query the list of packages which was deployed by CODE BY WELLDONE STUDIO or verified with user manually upload source code."," "),i.createElement(w,null,"curl --location 'https://api.welldonestudio.io/compiler/sui/packages?order=DESC&fetchSize=1'"),"Response Example:",i.createElement(w,null,'[\n\t{\n        "id": 1578,\n        "chainId": "testnet",\n        "account": "0x6741c41565eb5efbe0bbdec438f1fab5927d3d989967c81cc1760b6278a63d59",\n        "packageId": "0x8d1b84eaf4b007ef723b6f4a0181f0be1d060aa85a6f818fc58613b50c4ed112",\n        "packageName": "Locked Stake",\n        "isVerified": true,\n        "isRemixSrcUploaded": true,\n        "compiledAt": "2024-03-18T04:08:03.088Z",\n        "deployedAt": "2024-03-18T04:08:20.589Z",\n        "verifiedSrcUrl": "https://wds-code-verification.s3.us-east-2.amazonaws.com/sui/testnet/0x8d1b84eaf4b007ef723b6f4a0181f0be1d060aa85a6f818fc58613b50c4ed112/1710737438117/1710737438117.zip..."\n    }\n]\n'),i.createElement(f.Z,{variant:"body1",gutterBottom:!0},"Explanation of Key Response Fields:",i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,i.createElement("code",null,"isVerified")),": Indicates the verification status of the package."),i.createElement("li",null,i.createElement("strong",null,i.createElement("code",null,"account")),": Publisher address"),i.createElement("li",null,i.createElement("strong",null,i.createElement("code",null,"isRemixSrcUploaded")),": Indicates source code was uploaded via Remix IDE"),i.createElement("li",null,i.createElement("strong",null,i.createElement("code",null,"onChainByteCode")),":Compiled Byte Code published on-chain"," "),i.createElement("li",null,i.createElement("strong",null,i.createElement("code",null,"offChainByteCode")),":Locally compiled Byte Code")))),i.createElement(u.Z,{mb:3},i.createElement(f.Z,{variant:"h5"},i.createElement("strong",null,"Verification constraints")),i.createElement(f.Z,{variant:"body1"},"We don't support dependencies that are not internal folders. You need to specify it as a git dependency or include the dependencies in internal folder.",i.createElement("br",null),i.createElement("br",null),i.createElement("img",{src:"/img/contrubution/sui/sui-dependency.png",alt:"sui-git-dependency"}))),i.createElement(u.Z,{mb:3},i.createElement(f.Z,{variant:"h6",gutterBottom:!0},"Usage Example"),i.createElement(f.Z,{variant:"h8"},"Via Remix IDE"),i.createElement(f.Z,{variant:"body1"},i.createElement("ul",null,i.createElement("li",{style:{marginBottom:"10px",fontSize:"16px",lineHeight:"1.5"}},"Refer to the"," ",i.createElement("a",{href:"https://docs.welldonestudio.io/code/deploy-and-run/sui",target:"_blank"},"Manual")," ","to write and compile your move package, then proceed with the deployment."),i.createElement("li",{style:{marginBottom:"10px",fontSize:"16px",lineHeight:"1.5"}},"Once the package is compiled and deployed, The deployment history will automatically be stored in the database and will appear on this page's list."),i.createElement("li",{style:{marginBottom:"10px",fontSize:"16px",lineHeight:"1.5"}},"By clicking on a specific package address in the table below, you can verify the package by comparing the off-chain byte code with the on-chain byte code. This step is crucial for confirming the integrity of the package."),i.createElement("li",{style:{marginBottom:"10px",fontSize:"16px",lineHeight:"1.5"}},"While we do provide the verification feature directly, a key point is that we provide information about the source code to allow anyone to verify package."),i.createElement("li",{style:{marginBottom:"10px",fontSize:"16px",lineHeight:"1.5"}},"Once you verify the source code. For related API documentation, please refer"," ",i.createElement("a",{href:"https://api.welldonestudio.io/compiler/docs#/default/",target:"_blank"},"here"),".")))),i.createElement(u.Z,{mb:3},i.createElement(U,{data:h,setData:E,selectedData:x,setSelectedData:S,verificationResult:I,setVerificationResult:C,handleRowClick:P}))),_&&i.createElement("div",{className:B.overlay},i.createElement("div",{className:B.loadingMessage},i.createElement(p.Z,{color:"inherit"}),i.createElement("p",null,"Verifying..."))))},S=n(91262),Z=["components"],I={sidebar_position:1,title:"Sui Move",description:"Verification API for Sui Move",keywords:["remix ide","code verification","smart contracts","verification api","sui move"]},C=void 0,B={unversionedId:"code/verification-api/suimove",id:"code/verification-api/suimove",title:"Sui Move",description:"Verification API for Sui Move",source:"@site/docs/code/verification-api/suimove.mdx",sourceDirName:"code/verification-api",slug:"/code/verification-api/suimove",permalink:"/ko/code/verification-api/suimove",draft:!1,editUrl:"https://github.com/welldonestudio/welldonestudio.github.io/tree/master/docs/code/verification-api/suimove.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Sui Move",description:"Verification API for Sui Move",keywords:["remix ide","code verification","smart contracts","verification api","sui move"]},sidebar:"tutorialSidebar",previous:{title:"Verification API",permalink:"/ko/code/verification-api/"},next:{title:"Neutron-CosmWasm",permalink:"/ko/code/verification-api/cosmwasm"}},V={},_=[],R={toc:_};function P(e){var t=e.components,n=(0,r.Z)(e,Z);return(0,o.kt)("wrapper",(0,a.Z)({},R,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(S.Z,{mdxType:"BrowserOnly"},(function(){return(0,o.kt)(x,{mdxType:"SuiMove"})})))}P.isMDXComponent=!0}}]);